Sections:
00: "segf00" (F00-F5F)
01: "seg1000" (1000-2501)


Source: "vdp_maro.s"
                        	     1: ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                        	     2: ;                                     ;
                        	     3: ;      Modified_VDP.s                 ;
                        	     4: ;      Written in 6502 assembly       ;
                        	     5: ;      Started 7/27/21 by tramlaw101  ;
                        	     6: ;                                     ;
                        	     7: ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                        	     8: 
                        	     9: ; TMS9918A
                        	    10: VDP_VRAM               = $8800		; address to set MODE low for a video ram operation on the TMS9918A Video Display Proce
                        	    11: VDP_REG                = $8801		; address to set MODE high for a video register operation on the TMS9918A Video Display
                        	    12: VDP_WRITE_VRAM_BIT     = %01000000  	; pattern of second vram address write: 01AAAAAA
                        	    13: VDP_REGISTER_BITS      = %10000000  	; pattern of second register write: 10000RRR
                        	    14: 
                        	    15: VDP_NAME_TABLE_BASE = $0000
                        	    16: VDP_PATTERN_TABLE_BASE = $0800
                        	    17: 
                        	    18: TEXT_LOC		= $00FF
                        	    19: 
                        	    20: ; zero page addresses
                        	    21: VDP_PATTERN_INIT    	= $30
                        	    22: VDP_PATTERN_INIT_HI 	= $31
                        	    23: 
                        	    24: VDP_NAME_POINTER        = $32
                        	    25: 
                        	    26:   .org $0f00
                        	    27:   .include "mar_code.s"

Source: "mar_code.s"
                        	     1: d400_sVoc1FreqLo = $b800
                        	     2: d401_sVoc1FreqHi = $b801
                        	     3: d402_sVoc1PWidthLo = $b802
                        	     4: d403_sVoc1PWidthHi = $b803
                        	     5: d404_sVoc1Control = $b804
                        	     6: d405_sVoc1AttDec = $b805
                        	     7: d406_sVoc1SusRel = $b806
                        	     8: d407_sVoc2FreqLo = $b807
                        	     9: d408_sVoc2FreqHi = $b808
                        	    10: d409_sVoc2PWidthLo = $b809
                        	    11: d40a_sVoc2PWidthHi = $b80a
                        	    12: d40b_sVoc2Control = $b80b
                        	    13: d40c_sVoc2AttDec = $b80c
                        	    14: d40d_sVoc2SusRel = $b80d
                        	    15: d40e_sVoc3FreqLo = $b80e
                        	    16: d40f_sVoc3FreqHi = $b80f
                        	    17: d410_sVoc3PWidthLo = $b810
                        	    18: d411_sVoc3PWidthHi = $b811
                        	    19: d412_sVoc3Control = $b812
                        	    20: d413_sVoc3AttDec = $b813
                        	    21: d414_sVoc3SusRel = $b814
                        	    22: d415_sFiltFreqLo = $b815
                        	    23: d416_sFiltFreqHi = $b816
                        	    24: d417_sFiltControl = $b817
                        	    25: d418_sFiltMode = $b818
                        	    26: 
                        	    27:   .org $0f00
                        	    28: init:
00:0F00 78              	    29:   sei
00:0F01 A91F            	    30:   lda #<irq
00:0F03 8DFE7F          	    31:   sta $7ffe
00:0F06 A90F            	    32:   lda #>irq
00:0F08 8DFF7F          	    33:   sta $7fff
00:0F0B A9C0            	    34:   lda #$c0
00:0F0D 8D0EB0          	    35:   sta $b00e
00:0F10 A900            	    36:   lda #0 ; Song Number
00:0F12 20590F          	    37:   jsr InitSid
00:0F15 A940            	    38:   lda #$40
00:0F17 8D0DB0          	    39:   sta $b00d
00:0F1A 58              	    40:   cli
00:0F1B EA              	    41:   nop
00:0F1C 4CC21F          	    42:   jmp reset
                        	    43: irq:
00:0F1F 5A              	    44:   phy
00:0F20 DA              	    45:   phx
00:0F21 48              	    46:   pha
00:0F22 20480F          	    47:   jsr putbut
                        	    48: check:
00:0F25 78              	    49:   sei
00:0F26 AD0180          	    50:   lda $8001
00:0F29 2908            	    51:   and #$08
00:0F2B F003            	    52:   beq cont
00:0F2D 4C380F          	    53:   jmp clear
                        	    54: cont:
00:0F30 200310          	    55:   jsr PlaySid
00:0F33 58              	    56:   cli
00:0F34 68              	    57:   pla
00:0F35 FA              	    58:   plx
00:0F36 7A              	    59:   ply
00:0F37 40              	    60:   rti
                        	    61: clear:
00:0F38 A218            	    62:   ldx #$18
00:0F3A A900            	    63:   lda #$00
                        	    64: cloop:
00:0F3C 9D00B8          	    65:   sta d400_sVoc1FreqLo,x
00:0F3F CA              	    66:   dex
00:0F40 F003            	    67:   beq end
00:0F42 4C3C0F          	    68:   jmp cloop
                        	    69: end:
00:0F45 6CFCFF          	    70:   jmp ($fffc)
                        	    71: 
00:0F48 A21E            	    72: putbut              ldx #$1e
00:0F4A 8E04B0          	    73:                     stx $b004
00:0F4D 8E06B0          	    74:                     stx $b006
00:0F50 A24E            	    75:                     ldx #$4e	;50Hz IRQ
00:0F52 8E05B0          	    76:                     stx $b005
00:0F55 8E07B0          	    77:                     stx $b007
00:0F58 60              	    78:                     rts
                        	    79: 
00:0F59 20480F          	    80: InitSid             jsr putbut
00:0F5C 4C0010          	    81:                     jmp InitSid2
                        	    82: 
                        	    83: 	.org $1000
01:1000 4CD610          	    84: InitSid2            jmp L10d6
                        	    85:                     
01:1003 4CDA10          	    86: PlaySid             jmp L10da
                        	    87:                     
01:1006 B9C615          	    88: S1006               lda $15c6,y
01:1009 4C1310          	    89:                     jmp L1013
                        	    90:                     
01:100C A8              	    91: L100c               tay
01:100D A900            	    92:                     lda #$00
01:100F 9DFF13          	    93:                     sta $13ff,x
01:1012 98              	    94:                     tya
01:1013 9DD613          	    95: L1013               sta $13d6,x
01:1016 BDC513          	    96:                     lda $13c5,x
01:1019 9DD513          	    97:                     sta $13d5,x
01:101C 60              	    98:                     rts
                        	    99:                     
01:101D 9D1914          	   100: L101d               sta $1419,x
01:1020 60              	   101:                     rts
                        	   102:                     
01:1021 9D1A14          	   103: L1021               sta $141a,x
01:1024 60              	   104:                     rts
                        	   105:                     
01:1025 9DD913          	   106: L1025               sta $13d9,x
01:1028 60              	   107:                     rts
                        	   108:                     
01:1029 9DD813          	   109: L1029               sta $13d8,x
01:102C A900            	   110:                     lda #$00
01:102E 9D0114          	   111:                     sta $1401,x
01:1031 60              	   112:                     rts
                        	   113:                     
01:1032 9DDA13          	   114: L1032               sta $13da,x
01:1035 A900            	   115:                     lda #$00
01:1037 9DDB13          	   116:                     sta $13db,x
01:103A 60              	   117:                     rts
                        	   118:                     
01:103B A000            	   119: L103b               ldy #$00
01:103D 8C2211          	   120:                     sty $1122
01:1040 8D1E11          	   121: L1040               sta L111d + 1
01:1043 60              	   122:                     rts
                        	   123:                     
01:1044 8D6C11          	   124: L1044               sta $116c
01:1047 F0F7            	   125:                     beq L1040
01:1049 60              	   126:                     rts
                        	   127:                     
01:104A 8DEC13          	   128: L104a               sta $13ec
01:104D 8DF313          	   129:                     sta $13f3
01:1050 8DFA13          	   130:                     sta $13fa
01:1053 60              	   131:                     rts
                        	   132:                     
01:1054 DE0014          	   133: L1054               dec $1400,x
01:1057 4CB012          	   134: L1057               jmp L12b0
                        	   135:                     
01:105A F0FB            	   136: L105a               beq L1057
01:105C BD0014          	   137:                     lda $1400,x
01:105F D0F3            	   138:                     bne L1054
01:1061 A900            	   139:                     lda #$00
01:1063 85FC            	   140:                     sta $fc
01:1065 BDFF13          	   141:                     lda $13ff,x
01:1068 3009            	   142:                     bmi L1073
01:106A D9C517          	   143:                     cmp $17c5,y
01:106D 9005            	   144:                     bcc L1074
01:106F F002            	   145:                     beq L1073
01:1071 49FF            	   146:                     eor #$ff
01:1073 18              	   147: L1073               clc
01:1074 6902            	   148: L1074               adc #$02
01:1076 9DFF13          	   149:                     sta $13ff,x
01:1079 4A              	   150:                     lsr a
01:107A 902D            	   151:                     bcc L10a9
01:107C B042            	   152:                     bcs L10c0
01:107E 98              	   153:                     tya
01:107F F04F            	   154:                     beq L10d0
01:1081 B9C517          	   155:                     lda $17c5,y
01:1084 85FC            	   156:                     sta $fc
01:1086 A900            	   157:                     lda #$00
01:1088 C902            	   158:                     cmp #$02
01:108A 901D            	   159:                     bcc L10a9
01:108C F032            	   160:                     beq L10c0
01:108E BCEE13          	   161:                     ldy $13ee,x
01:1091 BD1414          	   162:                     lda $1414,x
01:1094 F92514          	   163:                     sbc $1425,y
01:1097 48              	   164:                     pha
01:1098 BD1514          	   165:                     lda $1415,x
01:109B F97D14          	   166:                     sbc $147d,y
01:109E A8              	   167:                     tay
01:109F 68              	   168:                     pla
01:10A0 B017            	   169:                     bcs L10b9
01:10A2 65FB            	   170:                     adc $fb
01:10A4 98              	   171:                     tya
01:10A5 65FC            	   172:                     adc $fc
01:10A7 1027            	   173:                     bpl L10d0
01:10A9 BD1414          	   174: L10a9               lda $1414,x
01:10AC 65FB            	   175:                     adc $fb
01:10AE 9D1414          	   176:                     sta $1414,x
01:10B1 BD1514          	   177:                     lda $1415,x
01:10B4 65FC            	   178:                     adc $fc
01:10B6 4CAD12          	   179:                     jmp L12ad
                        	   180:                     
01:10B9 E5FB            	   181: L10b9               sbc $fb
01:10BB 98              	   182:                     tya
01:10BC E5FC            	   183:                     sbc $fc
01:10BE 3010            	   184:                     bmi L10d0
01:10C0 BD1414          	   185: L10c0               lda $1414,x
01:10C3 E5FB            	   186:                     sbc $fb
01:10C5 9D1414          	   187:                     sta $1414,x
01:10C8 BD1514          	   188:                     lda $1415,x
01:10CB E5FC            	   189:                     sbc $fc
01:10CD 4CAD12          	   190:                     jmp L12ad
                        	   191:                     
01:10D0 BCEE13          	   192: L10d0               ldy $13ee,x
01:10D3 4C9F12          	   193:                     jmp L129f
                        	   194:                     
01:10D6 8DEA10          	   195: L10d6               sta $10ea
01:10D9 60              	   196:                     rts
                        	   197:                     
01:10DA A200            	   198: L10da               ldx #$00
01:10DC BD1414          	   199: L10dc               lda $1414,x
01:10DF 9D00B8          	   200:                     sta d400_sVoc1FreqLo,x
01:10E2 E8              	   201:                     inx
01:10E3 E019            	   202:                     cpx #$19
01:10E5 D0F5            	   203:                     bne L10dc
01:10E7 A200            	   204:                     ldx #$00
01:10E9 A000            	   205:                     ldy #$00
01:10EB 3030            	   206:                     bmi L111d
01:10ED 8A              	   207:                     txa
01:10EE A229            	   208:                     ldx #$29
01:10F0 9DC013          	   209: L10f0               sta $13c0,x
01:10F3 CA              	   210:                     dex
01:10F4 10FA            	   211:                     bpl L10f0
01:10F6 8D2914          	   212:                     sta $1429
01:10F9 8D6C11          	   213:                     sta $116c
01:10FC 8D1E11          	   214:                     sta L111d + 1
01:10FF 8EEA10          	   215:                     stx $10ea
01:1102 AA              	   216:                     tax
01:1103 200D11          	   217:                     jsr S110d
01:1106 A207            	   218:                     ldx #$07
01:1108 200D11          	   219:                     jsr S110d
01:110B A20E            	   220:                     ldx #$0e
01:110D A905            	   221: S110d               lda #$05
01:110F 9DEC13          	   222:                     sta $13ec,x
01:1112 A901            	   223:                     lda #$01
01:1114 9DED13          	   224:                     sta $13ed,x
01:1117 9DEF13          	   225:                     sta $13ef,x
01:111A 4C7613          	   226:                     jmp L1376
                        	   227:                     
01:111D A000            	   228: L111d               ldy #$00
01:111F F045            	   229:                     beq L1166
01:1121 A900            	   230:                     lda #$00
01:1123 D023            	   231:                     bne L1148
01:1125 B97817          	   232:                     lda $1778,y
01:1128 F012            	   233:                     beq L113c
01:112A 1019            	   234:                     bpl L1145
01:112C 0A              	   235:                     asl a
01:112D 8D7111          	   236:                     sta $1171
01:1130 B99E17          	   237:                     lda $179e,y
01:1133 8D6C11          	   238:                     sta $116c
01:1136 B97917          	   239:                     lda $1779,y
01:1139 D01F            	   240:                     bne L115a
01:113B C8              	   241:                     iny
01:113C B99E17          	   242: L113c               lda $179e,y
01:113F 8D6711          	   243:                     sta L1166 + 1
01:1142 4C5711          	   244:                     jmp L1157
                        	   245:                     
01:1145 8D2211          	   246: L1145               sta $1122
01:1148 B99E17          	   247: L1148               lda $179e,y
01:114B 18              	   248:                     clc
01:114C 6D6711          	   249:                     adc L1166 + 1
01:114F 8D6711          	   250:                     sta L1166 + 1
01:1152 CE2211          	   251:                     dec $1122
01:1155 D011            	   252:                     bne L1168
01:1157 B97917          	   253: L1157               lda $1779,y
01:115A C9FF            	   254: L115a               cmp #$ff
01:115C C8              	   255:                     iny
01:115D 98              	   256:                     tya
01:115E 9003            	   257:                     bcc L1163
01:1160 B99E17          	   258:                     lda $179e,y
01:1163 8D1E11          	   259: L1163               sta L111d + 1
01:1166 A900            	   260: L1166               lda #$00
01:1168 8D2A14          	   261: L1168               sta $142a
01:116B A900            	   262:                     lda #$00
01:116D 8D2B14          	   263:                     sta $142b
01:1170 A900            	   264:                     lda #$00
01:1172 090F            	   265:                     ora #$0f
01:1174 8D2C14          	   266:                     sta $142c
01:1177 208111          	   267:                     jsr S1181
01:117A A207            	   268:                     ldx #$07
01:117C 208111          	   269:                     jsr S1181
01:117F A20E            	   270:                     ldx #$0e
01:1181 DEED13          	   271: S1181               dec $13ed,x
01:1184 F00B            	   272:                     beq L1191
01:1186 1006            	   273:                     bpl L118e
01:1188 BDEC13          	   274:                     lda $13ec,x
01:118B 9DED13          	   275:                     sta $13ed,x
01:118E 4C4112          	   276: L118e               jmp L1241
                        	   277:                     
01:1191 BCC513          	   278: L1191               ldy $13c5,x
01:1194 B9AB13          	   279:                     lda $13ab,y
01:1197 8D3312          	   280:                     sta $1233
01:119A 8D3F12          	   281:                     sta $123f
01:119D BDC313          	   282:                     lda $13c3,x
01:11A0 D030            	   283:                     bne L11d2
01:11A2 BCEA13          	   284:                     ldy $13ea,x
01:11A5 B9DD14          	   285:                     lda $14dd,y
01:11A8 85FB            	   286:                     sta $fb
01:11AA B9E014          	   287:                     lda $14e0,y
01:11AD 85FC            	   288:                     sta $fc
01:11AF BCC013          	   289:                     ldy $13c0,x
01:11B2 B1FB            	   290:                     lda ($fb),y
01:11B4 C9FF            	   291:                     cmp #$ff
01:11B6 9006            	   292:                     bcc L11be
01:11B8 C8              	   293:                     iny
01:11B9 B1FB            	   294:                     lda ($fb),y
01:11BB A8              	   295:                     tay
01:11BC B1FB            	   296:                     lda ($fb),y
01:11BE C9E0            	   297: L11be               cmp #$e0
01:11C0 9008            	   298:                     bcc L11ca
01:11C2 E9F0            	   299:                     sbc #$f0
01:11C4 9DC113          	   300:                     sta $13c1,x
01:11C7 C8              	   301:                     iny
01:11C8 B1FB            	   302:                     lda ($fb),y
01:11CA 9DEB13          	   303: L11ca               sta $13eb,x
01:11CD C8              	   304:                     iny
01:11CE 98              	   305:                     tya
01:11CF 9DC013          	   306:                     sta $13c0,x
01:11D2 BCEF13          	   307: L11d2               ldy $13ef,x
01:11D5 BDD713          	   308:                     lda $13d7,x
01:11D8 F061            	   309:                     beq L123b
01:11DA 38              	   310:                     sec
01:11DB E960            	   311:                     sbc #$60
01:11DD 9DEE13          	   312:                     sta $13ee,x
01:11E0 A900            	   313:                     lda #$00
01:11E2 9DD513          	   314:                     sta $13d5,x
01:11E5 9DD713          	   315:                     sta $13d7,x
01:11E8 B9E015          	   316:                     lda $15e0,y
01:11EB 9D0014          	   317:                     sta $1400,x
01:11EE B9C615          	   318:                     lda $15c6,y
01:11F1 9DD613          	   319:                     sta $13d6,x
01:11F4 BDC513          	   320:                     lda $13c5,x
01:11F7 C903            	   321:                     cmp #$03
01:11F9 F040            	   322:                     beq L123b
01:11FB A909            	   323:                     lda #$09
01:11FD 9DD913          	   324:                     sta $13d9,x
01:1200 FEF013          	   325:                     inc $13f0,x
01:1203 B97815          	   326:                     lda $1578,y
01:1206 9DD813          	   327:                     sta $13d8,x
01:1209 B99215          	   328:                     lda $1592,y
01:120C F008            	   329:                     beq L1216
01:120E 9DDA13          	   330:                     sta $13da,x
01:1211 A900            	   331:                     lda #$00
01:1213 9DDB13          	   332:                     sta $13db,x
01:1216 B9AC15          	   333: L1216               lda $15ac,y
01:1219 F008            	   334:                     beq L1223
01:121B 8D1E11          	   335:                     sta L111d + 1
01:121E A900            	   336:                     lda #$00
01:1220 8D2211          	   337:                     sta $1122
01:1223 B94415          	   338: L1223               lda $1544,y
01:1226 9D1914          	   339:                     sta $1419,x
01:1229 B95E15          	   340:                     lda $155e,y
01:122C 9D1A14          	   341:                     sta $141a,x
01:122F BDC613          	   342:                     lda $13c6,x
01:1232 200610          	   343:                     jsr S1006
01:1235 4C7613          	   344:                     jmp L1376
                        	   345:                     
01:1238 4C8013          	   346: L1238               jmp L1380
                        	   347:                     
01:123B BDC613          	   348: L123b               lda $13c6,x
01:123E 200610          	   349:                     jsr S1006
01:1241 BCD813          	   350: L1241               ldy $13d8,x
01:1244 F03A            	   351:                     beq L1280
01:1246 B9FA15          	   352:                     lda $15fa,y
01:1249 C910            	   353:                     cmp #$10
01:124B B00A            	   354:                     bcs L1257
01:124D DD0114          	   355:                     cmp $1401,x
01:1250 F00E            	   356:                     beq L1260
01:1252 FE0114          	   357:                     inc $1401,x
01:1255 D029            	   358:                     bne L1280
01:1257 E910            	   359: L1257               sbc #$10
01:1259 C9E0            	   360:                     cmp #$e0
01:125B B003            	   361:                     bcs L1260
01:125D 9DD913          	   362:                     sta $13d9,x
01:1260 B9FB15          	   363: L1260               lda $15fb,y
01:1263 C9FF            	   364:                     cmp #$ff
01:1265 C8              	   365:                     iny
01:1266 98              	   366:                     tya
01:1267 9003            	   367:                     bcc L126c
01:1269 B99F16          	   368:                     lda $169f,y
01:126C 9DD813          	   369: L126c               sta $13d8,x
01:126F A900            	   370:                     lda #$00
01:1271 9D0114          	   371:                     sta $1401,x
01:1274 B9F915          	   372:                     lda $15f9,y
01:1277 C9E0            	   373:                     cmp #$e0
01:1279 B0BD            	   374:                     bcs L1238
01:127B B99E16          	   375:                     lda $169e,y
01:127E D017            	   376:                     bne L1297
01:1280 BCD513          	   377: L1280               ldy $13d5,x
01:1283 8C8710          	   378:                     sty $1087
01:1286 B9BB13          	   379:                     lda $13bb,y
01:1289 8D9512          	   380:                     sta $1295
01:128C BCD613          	   381:                     ldy $13d6,x
01:128F B9CF17          	   382: L128f               lda $17cf,y
01:1292 85FB            	   383:                     sta $fb
01:1294 4C5A10          	   384:                     jmp L105a
                        	   385:                     
01:1297 1005            	   386: L1297               bpl L129e
01:1299 7DEE13          	   387:                     adc $13ee,x
01:129C 297F            	   388:                     and #$7f
01:129E A8              	   389: L129e               tay
01:129F A900            	   390: L129f               lda #$00
01:12A1 9DFF13          	   391:                     sta $13ff,x
01:12A4 B92514          	   392:                     lda $1425,y
01:12A7 9D1414          	   393:                     sta $1414,x
01:12AA B97D14          	   394:                     lda $147d,y
01:12AD 9D1514          	   395: L12ad               sta $1415,x
01:12B0 BCDA13          	   396: L12b0               ldy $13da,x
01:12B3 F03C            	   397:                     beq L12f1
01:12B5 BDDB13          	   398:                     lda $13db,x
01:12B8 D014            	   399:                     bne L12ce
01:12BA B94417          	   400:                     lda $1744,y
01:12BD 100C            	   401:                     bpl L12cb
01:12BF B95E17          	   402:                     lda $175e,y
01:12C2 9D1614          	   403:                     sta $1416,x
01:12C5 9D1714          	   404:                     sta $1417,x
01:12C8 4CE212          	   405:                     jmp L12e2
                        	   406:                     
01:12CB 9DDB13          	   407: L12cb               sta $13db,x
01:12CE BD1614          	   408: L12ce               lda $1416,x
01:12D1 18              	   409:                     clc
01:12D2 795E17          	   410:                     adc $175e,y
01:12D5 6900            	   411:                     adc #$00
01:12D7 9D1614          	   412:                     sta $1416,x
01:12DA 9D1714          	   413:                     sta $1417,x
01:12DD DEDB13          	   414:                     dec $13db,x
01:12E0 D00F            	   415:                     bne L12f1
01:12E2 B94517          	   416: L12e2               lda $1745,y
01:12E5 C9FF            	   417:                     cmp #$ff
01:12E7 C8              	   418:                     iny
01:12E8 98              	   419:                     tya
01:12E9 9003            	   420:                     bcc L12ee
01:12EB B95E17          	   421:                     lda $175e,y
01:12EE 9DDA13          	   422: L12ee               sta $13da,x
01:12F1 BDED13          	   423: L12f1               lda $13ed,x
01:12F4 C902            	   424:                     cmp #$02
01:12F6 F003            	   425:                     beq L12fb
01:12F8 4C7613          	   426:                     jmp L1376
                        	   427:                     
01:12FB BCEB13          	   428: L12fb               ldy $13eb,x
01:12FE B9E314          	   429:                     lda $14e3,y
01:1301 85FB            	   430:                     sta $fb
01:1303 B91415          	   431:                     lda $1514,y
01:1306 85FC            	   432:                     sta $fc
01:1308 BCC313          	   433:                     ldy $13c3,x
01:130B B1FB            	   434:                     lda ($fb),y
01:130D C940            	   435:                     cmp #$40
01:130F 9018            	   436:                     bcc L1329
01:1311 C960            	   437:                     cmp #$60
01:1313 901E            	   438:                     bcc L1333
01:1315 C9C0            	   439:                     cmp #$c0
01:1317 902E            	   440:                     bcc L1347
01:1319 BDC413          	   441:                     lda $13c4,x
01:131C D002            	   442:                     bne L1320
01:131E B1FB            	   443:                     lda ($fb),y
01:1320 6900            	   444: L1320               adc #$00
01:1322 9DC413          	   445:                     sta $13c4,x
01:1325 F046            	   446:                     beq L136d
01:1327 D04D            	   447:                     bne L1376
01:1329 9DEF13          	   448: L1329               sta $13ef,x
01:132C C8              	   449:                     iny
01:132D B1FB            	   450:                     lda ($fb),y
01:132F C960            	   451:                     cmp #$60
01:1331 B014            	   452:                     bcs L1347
01:1333 C950            	   453: L1333               cmp #$50
01:1335 290F            	   454:                     and #$0f
01:1337 9DC513          	   455:                     sta $13c5,x
01:133A F006            	   456:                     beq L1342
01:133C C8              	   457:                     iny
01:133D B1FB            	   458:                     lda ($fb),y
01:133F 9DC613          	   459:                     sta $13c6,x
01:1342 B029            	   460: L1342               bcs L136d
01:1344 C8              	   461:                     iny
01:1345 B1FB            	   462:                     lda ($fb),y
01:1347 C9BD            	   463: L1347               cmp #$bd
01:1349 9006            	   464:                     bcc L1351
01:134B F020            	   465:                     beq L136d
01:134D 09F0            	   466:                     ora #$f0
01:134F D019            	   467:                     bne L136a
01:1351 7DC113          	   468: L1351               adc $13c1,x
01:1354 9DD713          	   469:                     sta $13d7,x
01:1357 BDC513          	   470:                     lda $13c5,x
01:135A C903            	   471:                     cmp #$03
01:135C F00F            	   472:                     beq L136d
01:135E A9FF            	   473:                     lda #$ff
01:1360 9D1914          	   474:                     sta $1419,x
01:1363 A900            	   475:                     lda #$00
01:1365 9D1A14          	   476:                     sta $141a,x
01:1368 A9FE            	   477:                     lda #$fe
01:136A 9DF013          	   478: L136a               sta $13f0,x
01:136D C8              	   479: L136d               iny
01:136E B1FB            	   480:                     lda ($fb),y
01:1370 F001            	   481:                     beq L1373
01:1372 98              	   482:                     tya
01:1373 9DC313          	   483: L1373               sta $13c3,x
01:1376 BDD913          	   484: L1376               lda $13d9,x
01:1379 3DF013          	   485:                     and $13f0,x
01:137C 9D1814          	   486:                     sta $1418,x
01:137F 60              	   487:                     rts
                        	   488:                     
01:1380 290F            	   489: L1380               and #$0f
01:1382 85FB            	   490:                     sta $fb
01:1384 B99E16          	   491:                     lda $169e,y
01:1387 85FC            	   492:                     sta $fc
01:1389 A4FB            	   493:                     ldy $fb
01:138B C005            	   494:                     cpy #$05
01:138D B00E            	   495:                     bcs L139d
01:138F 8C8710          	   496:                     sty $1087
01:1392 B9BB13          	   497:                     lda $13bb,y
01:1395 8D9512          	   498:                     sta $1295
01:1398 A4FC            	   499:                     ldy $fc
01:139A 4C8F12          	   500:                     jmp L128f
                        	   501:                     
01:139D B9AB13          	   502: L139d               lda $13ab,y
01:13A0 8DA613          	   503:                     sta $13a6
01:13A3 A5FC            	   504:                     lda $fc
01:13A5 200610          	   505:                     jsr S1006
01:13A8 4CB012          	   506:                     jmp L12b0
                        	   507: 
01:13AB 060C0C13131D2125	   508: 	.binary "mded.bin"
01:13B3 29323B444A4A4A4A
01:13BB 5A81817E61000000
01:13C3 0000000000000000
01:13CB 0000000000000000
01:13D3 0000000000000000
01:13DB 0000000000000000
01:13E3 0000000000000000
01:13EB 0000000001FE0100
01:13F3 00000001FE020000
01:13FB 000001FE00000000
01:1403 0000000000000000
01:140B 0000000000000000
01:1413 0000000000000000
01:141B 0000000000000000
01:1423 0000000000000000
01:142B 0000BAD4F00E2D4E
01:1433 7196BEE8144374A9
01:143B E11C5A9CE22D7CCF
01:1443 2885E852C137B439
01:144B C55AF79E4F0AD1A3
01:1453 826E68718AB3EE3C
01:145B 9E15A24604DCD0E2
01:1463 1467DD793C29448D
01:146B 08B8A1C528CDBAF1
01:1473 7853871A10714289
01:147B 4F9B74E2F0A60E33
01:1483 20FF010101020202
01:148B 0202020203030303
01:1493 0304040404050505
01:149B 0606060707080809
01:14A3 090A0A0B0C0D0D0E
01:14AB 0F10111213141517
01:14B3 181A1B1D1F202224
01:14BB 27292B2E3134373A
01:14C3 3E4145494E52575C
01:14CB 62686E757C838B93
01:14D3 9CA5AFB9C4D0DDEA
01:14DB F8FFD91959171818
01:14E3 99C3E2F51F3E5173
01:14EB 9BC0E5082242475A
01:14F3 6E7693D9F2264373
01:14FB B9FF235174A1B9F9
01:1503 2D5683A9D303194E
01:150B 78A2D4E7EEFE3F7F
01:1513 BC18181818191919
01:151B 191919191A1A1A1A
01:1523 1A1A1A1A1A1A1B1B
01:152B 1B1B1B1C1C1C1C1C
01:1533 1C1D1D1D1D1D1E1E
01:153B 1E1E1E1E1E1E1E1F
01:1543 1F1F0290A000A000
01:154B 0000040404040404
01:1553 07A0040000000005
01:155B 00000000E9E9E9E9
01:1563 E9D9C9F4ACACACAC
01:156B ACACF8ECE6BCF48A
01:1573 EADD6CBCEEF40108
01:157B 0A0C101208191D23
01:1583 292F353B41460849
01:158B 4F6569087A80989B
01:1593 0101030003030303
01:159B 0505050505050001
01:15A3 010101090B000101
01:15AB 0311010800000000
01:15B3 0000000000000000
01:15BB 0C001A0014000000
01:15C3 0000000000000000
01:15CB 0000000000000000
01:15D3 0000000000000000
01:15DB 0004000000000000
01:15E3 0000000000000000
01:15EB 0000000000000000
01:15F3 0000000900000000
01:15FB 915100000020FF51
01:1603 FF65FF916591FF67
01:160B FF530303030319FF
01:1613 515005FF51010101
01:161B 01FF5101010101FF
01:1623 5101010101FF5101
01:162B 010101FF51010101
01:1633 01FF5101010101FF
01:163B 71199190FF65F1FF
01:1643 5103030303FF9100
01:164B 51FF5102020202FF
01:1653 5101010101FF5100
01:165B 000000FF510550FF
01:1663 5150020101010101
01:166B 0101010101F603F6
01:1673 FF91016501F2FF51
01:167B 03030303FF510202
01:1683 0202FF5101010101
01:168B FF5100000000FF65
01:1693 64FF510000000000
01:169B 00000050FF5F2420
01:16A3 1C18100080008000
01:16AB 42445F0080008085
01:16B3 8785808000808080
01:16BB 1980808285891E80
01:16C3 8082858724808084
01:16CB 878B2A8080828789
01:16D3 30808082878B3680
01:16DB 8083888A3C265F5F
01:16E3 5A00800347808A89
01:16EB 85824A5F5F800080
01:16F3 8A89858254808A89
01:16FB 85825A808A898582
01:1703 6080858500323334
01:170B 35363738393A3B3C
01:1713 3D3EE93EE3008080
01:171B 8080067E80828589
01:1723 8A81808285898A87
01:172B 808285898A8D8082
01:1733 85898A9380800037
01:173B 3A39363A39363A39
01:1743 370080FF80FF8010
01:174B 10FF800580FF8020
01:1753 20FF800280028002
01:175B 800280FF08000400
01:1763 08708F0606000300
01:176B 0550AF0E08000600
01:1773 0400020001009800
01:177B 98000000FF980001
01:1783 FFB0000000000D00
01:178B FFB000009800FFB0
01:1793 00009800FF880008
01:179B 01FF01FFF780F106
01:17A3 020100F210010AF3
01:17AB 301C0F22000600F1
01:17B3 20FFF10100F120FF
01:17BB F12000F703000122
01:17C3 0225000101000203
01:17CB 0100000000FF000A
01:17D3 E01030807403F02D
01:17DB 0003FC0003F00003
01:17E3 FC0003F00003FC00
01:17EB 03F00003F0001AF0
01:17F3 0E11F0121712F018
01:17FB F0121712F01EF012
01:1803 171218F212171218
01:180B F212171218000300
01:1813 F0032A30FF00F02E
01:181B 0104F00104F00809
01:1823 F00809F00104F001
01:182B 04E90104F0011BF0
01:1833 0C0FF0141614F016
01:183B F0141614F01FF014
01:1843 162616E614162616
01:184B F214162616141626
01:1853 F0162B30FF00F02F
01:185B 0205F00205F00607
01:1863 F00607F00A0BF00A
01:186B 0BF00A19F00A1CF0
01:1873 0D10F0151315FC25
01:187B F0061322FC1DF020
01:1883 212324F220212324
01:188B F227242824272428
01:1893 F0292C30FF000140
01:189B 840273FE01840273
01:18A3 FE01840273FE0184
01:18AB 0273FE01880277FE
01:18B3 01880277FE018802
01:18BB 77FE01880277FE00
01:18C3 034086FD04840386
01:18CB FE86FD04840386FE
01:18D3 8AFD0484038AFE8A
01:18DB FD0484038AFE0003
01:18E3 408FFD8FFD8FFD8F
01:18EB FD92FD92FD92FD92
01:18F3 FD000140860275FE
01:18FB 01860275FE018602
01:1903 75FE01860275FE01
01:190B 860275FE01860275
01:1913 FE01830272FE0183
01:191B 0272FE00034088FD
01:1923 04840388FE88FD04
01:192B 840388FE88FD0484
01:1933 0388FE85FD048403
01:193B 85FE00034091FD91
01:1943 FD91FD91FD91FD91
01:194B FD94FD94FD000340
01:1953 8FFE0697038F069B
01:195B FE038FFD074401A7
01:1963 FD084096F90392FD
01:196B 05A74300BBB35000
01:1973 034091FE06970391
01:197B 069BFE0391FD0744
01:1983 01A7FD034091FD07
01:198B 4401A0FD034094FD
01:1993 05A74300BBB35000
01:199B 034086FD04840386
01:19A3 FE86FD04840386FE
01:19AB 8AFD0484038AFE8A
01:19B3 FE04B4079943029B
01:19BB 4300995000034088
01:19C3 FD04840388FE88FD
01:19CB 04840388FE88FD04
01:19D3 840388FE85FE04B4
01:19DB 079943029B430099
01:19E3 5000094099FE45C0
01:19EB 994099FD0A99FE99
01:19F3 BD45C0990B4097FD
01:19FB 97BD97BD97BD97FE
01:1A03 97FE97BD000C4097
01:1A0B FE45C0974097FD0D
01:1A13 97FE97BD45C0970C
01:1A1B 4097FD0E96F3000F
01:1A23 4A018450FE84FD84
01:1A2B BD5A015084FD4A01
01:1A33 8450FE84BD5A0150
01:1A3B 84FE84FE84BD0010
01:1A43 4086E10002407FFD
01:1A4B 7FFD7FFD7FFD7FFD
01:1A53 7FFD7FFD7FFD000F
01:1A5B 4084FD84FD84FD84
01:1A63 FD84F714A7BD5203
01:1A6B 50FE0050F14611BE
01:1A73 50F20002407FFD7F
01:1A7B FD7FFD7FFD4611BE
01:1A83 50FE154B00A850FC
01:1A8B 14A7BD510350FE00
01:1A93 0140840273137311
01:1A9B 7301840273134A1A
01:1AA3 7350018402731373
01:1AAB BD01840273134A1A
01:1AB3 7350018802771377
01:1ABB BD01880277134A1A
01:1AC3 775001880277BD13
01:1ACB 4A1A770140880277
01:1AD3 134A1A77500040BE
01:1ADB F412995B0050FE58
01:1AE3 5350FC4859BE50FE
01:1AEB 585F56BB50BD0009
01:1AF3 4099FE45C0990440
01:1AFB 9C0999FE0A99FE99
01:1B03 049C0A45C0990B40
01:1B0B 97FD97BD049C0B45
01:1B13 C0974097BD97FE45
01:1B1B C09704409C0F9C0B
01:1B23 97BD001740A5FD45
01:1B2B A0A550FE45B0A550
01:1B33 FE45C0A550FE47E9
01:1B3B BE50BD580050F500
01:1B43 0C4097FE45C09704
01:1B4B 409C0C97FE0D97FE
01:1B53 97049C0D45C0970C
01:1B5B 4097FD0E96BD049C
01:1B63 0E96FC45B0965004
01:1B6B 9C0E45C09650BD00
01:1B73 0140860275137511
01:1B7B 7501860275134A1A
01:1B83 7550018602751375
01:1B8B BD01860275134A1A
01:1B93 7550018302721372
01:1B9B BD01830272134A1A
01:1BA3 725001830272BD13
01:1BAB 4A1A720140830272
01:1BB3 134A1A7250000140
01:1BBB 8602751375117501
01:1BC3 860275134A1A7550
01:1BCB 018602751375BD01
01:1BD3 860275134A1A7550
01:1BDB 018D027C137CBD01
01:1BE3 8D027C134A1A7C50
01:1BEB 018D027CBD134A1A
01:1BF3 7C01408D027C134A
01:1BFB 1A7C50000C4097FE
01:1C03 45C0974097FD0D97
01:1C0B FE97BD45C0970C40
01:1C13 97FD0E96F90792BE
01:1C1B A55401BD4300A200
01:1C23 0140860275FE0186
01:1C2B 0275FE01860275FE
01:1C33 01860275FE019202
01:1C3B 81FE01920281FE01
01:1C43 920281BD01920281
01:1C4B BD0190027F000440
01:1C53 88FD840388FE0488
01:1C5B FD840388FE0488FD
01:1C63 840388FE04A80388
01:1C6B BD0487BD038886BD
01:1C73 000C4097FE45C097
01:1C7B 4097FD0D97FE97BD
01:1C83 45C0970C4097BD97
01:1C8B BD45C0974097FE0D
01:1C93 97BD0C97BD45C097
01:1C9B 4097FE97BD004611
01:1CA3 BE50F5188D5B0050
01:1CAB FE585350FC4859BE
01:1CB3 50FE14A7FD000140
01:1CBB 8602751375117501
01:1CC3 860275134A1A7550
01:1CCB 018602751375BD01
01:1CD3 860275134A1A7550
01:1CDB 018D027C137CBD01
01:1CE3 8D027C134A1A7C50
01:1CEB 018D027CBD134A1A
01:1CF3 7C01408DFD000C40
01:1CFB 97FE45C09704409C
01:1D03 0C97FE0D97FE9704
01:1D0B 9C0D45C0970C4097
01:1D13 FD0E96BD049C0E45
01:1D1B A09650FD45B09650
01:1D23 024500815208BD52
01:1D2B 0300590D501699BD
01:1D33 94BD99BD9D43029E
01:1D3B 409DBD99BD984302
01:1D43 99BD504300975043
01:1D4B 0796530050FB94BD
01:1D53 99BD00164099BD97
01:1D5B BD94BD93430294BD
01:1D63 50FC430299BD50BD
01:1D6B 4300975096BD9B43
01:1D73 029D5300509EBE07
01:1D7B A55401BD4300A200
01:1D83 034091FE06970391
01:1D8B 069BFE0391FD0744
01:1D93 01A7FD034091FD07
01:1D9B 4401A0FD034092FD
01:1DA3 07A55401FE0047E9
01:1DAB BE590D164099BD94
01:1DB3 BD99BD9D43029E40
01:1DBB 9DBD99BD9E4302A0
01:1DC3 5300509EFD43009B
01:1DCB 9D50FD9EBDA0BD00
01:1DD3 1640A04300A2A050
01:1DDB 9EBD9B43009DBD43
01:1DE3 07994099BD5404BD
01:1DEB 430296BD4097BD43
01:1DF3 009650430097509D
01:1DFB 43029E530050FA00
01:1E03 40BEF41899FC5886
01:1E0B 50FC488CBE50FE58
01:1E13 9256BB50BD000940
01:1E1B 99FE45C09904409C
01:1E23 0999FE0A99FE9904
01:1E2B 9C0A45C0990D4092
01:1E33 FD92BD049C0D45C0
01:1E3B 924092BD0B92FE92
01:1E43 049C0B45C0920940
01:1E4B 94BD00590D50FC16
01:1E53 9943059B43009E50
01:1E5B 4300A09E50FB9943
01:1E63 059B43009E50A0BD
01:1E6B 4306A24300A09950
01:1E73 9EBDA0BD00590D50
01:1E7B FC169943059B4300
01:1E83 9E504300A09E50FB
01:1E8B 9943059B43009E50
01:1E93 A0BD4307A2BD4300
01:1E9B 99509EBDA0BD0016
01:1EA3 40A04300A2A0509E
01:1EAB BD9B43009DBD4307
01:1EB3 9E50BD4300A25043
01:1EBB 0296BD4097BD4300
01:1EC3 96504300975099BD
01:1ECB 9BBD9DBDA0BDA2BD
01:1ED3 00014F057A50FA5F
01:1EDB 1750F2154B00A850
01:1EE3 1AA8FB0012408DFD
01:1EEB BEE5001640A24302
01:1EF3 A3FEBE50F25207FC
01:1EFB 50FA00194F059750
01:1F03 46E5975046E59750
01:1F0B 46E6975046E69750
01:1F13 46E7975046E79750
01:1F1B 46E8975046E99750
01:1F23 46EA975046EB9750
01:1F2B 46EC975046ED9750
01:1F33 97BD0F46F9905109
01:1F3B 5A0050001946E292
01:1F43 5046E5925046E592
01:1F4B 5046E6925046E692
01:1F53 5046E7925046E792
01:1F5B 5046E8925046E992
01:1F63 5046EA925046EB92
01:1F6B 5046EC925046ED92
01:1F73 5092BD0F46F99052
01:1F7B 0950BD00194A208F
01:1F83 5046E58F5046E58F
01:1F8B 5046E68F5046E68F
01:1F93 5046E78F5046E78F
01:1F9B 5046E88F5A2546E9
01:1FA3 8F5046EA8F5046EB
01:1FAB 8F5046EC8F5046ED
01:1FB3 8F508FBD57E950FE
01:1FBB 004F0BBE50E200
                        	   509: 

Source: "vdp_maro.s"
                        	    28: 
                        	    29:   .macro vdp_write_vram			; macro to store address in vdp_reg for write
                        	    30:   pha
                        	    31:   lda #<(\1)
                        	    32:   sta VDP_REG
                        	    33:   lda #(VDP_WRITE_VRAM_BIT | >\1)
                        	    34:   sta VDP_REG
                        	    35:   pla
                        	    36:   .endm
                        	    37: ;;;;;;;;;;;;;;;;;;; reset ;;;;;;;;;;;;;;;;;;;
                        	    38: 
                        	    39: reset:
                        	    40: 
                        	    41: ;;;;;;;;;;;;;;;;;;; setup subroutines ;;;;;;;;;;;;;;;;;;;;;;;
                        	    42: 
                        	    43: 
01:1FC2 20E61F          	    44:   jsr vdp_set_registers
01:1FC5 20D91F          	    45:   jsr vdp_setup
01:1FC8 A9FF            	    46:   lda #255	; activate display
01:1FCA 8D03B0          	    47:   sta $b003
01:1FCD 8D01B0          	    48:   sta $b001
                        	    49: holding:
01:1FD0 20FE1F          	    50:   jsr wait
01:1FD3 200D20          	    51:   jsr changecolor
01:1FD6 4CD01F          	    52:   jmp holding
                        	    53: 
                        	    54: ;;;;;;;;;;;;;;;;;;; vdp_setup subroutines ;;;;;;;;;;;;;;;;;;;;
                        	    55: 
                        	    56: vdp_setup:
01:1FD9 206C20          	    57:   jsr vdp_initialize_pattern_table
01:1FDC 202620          	    58:   jsr vdp_initialize_name_table
01:1FDF 204D20          	    59:   jsr vdp_write_name_table
01:1FE2 20A120          	    60:   jsr vdp_enable_display
01:1FE5 60              	    61:   rts
                        	    62: 
                        	    63: ;;;;;;;;;;;;;;;;;;; vdp_set_registers ;;;;;;;;;;;;;;;;;;;;;;;;
                        	    64: 
                        	    65: vdp_set_registers:
01:1FE6 48              	    66:   pha
01:1FE7 DA              	    67:   phx
01:1FE8 A200            	    68:   ldx #0
                        	    69: .loop:
01:1FEA BD1E20          	    70:   lda vdp_register_inits,x
01:1FED 8D0188          	    71:   sta VDP_REG
01:1FF0 8A              	    72:   txa
01:1FF1 0980            	    73:   ora #VDP_REGISTER_BITS 				; combine the register number with the second write pattern
01:1FF3 8D0188          	    74:   sta VDP_REG
01:1FF6 E8              	    75:   inx
01:1FF7 E008            	    76:   cpx #8
01:1FF9 D0EF            	    77:   bne .loop
01:1FFB FA              	    78:   plx
01:1FFC 68              	    79:   pla
01:1FFD 60              	    80:   rts
                        	    81: 
                        	    82: wait:
01:1FFE DA              	    83: 	phx
01:1FFF 5A              	    84: 	phy
01:2000 A0FF            	    85:         ldy  #$ff
01:2002 A2FF            	    86:         ldx  #$ff
01:2004 CA              	    87: delay   dex          ; (2 cycles)
01:2005 D0FD            	    88:         bne  delay   ; (3 cycles in loop, 2 cycles at end)
01:2007 88              	    89:         dey          ; (2 cycles)
01:2008 D0FA            	    90:         bne  delay   ; (3 cycles in loop, 2 cycles at end)
01:200A 7A              	    91: 	ply
01:200B FA              	    92: 	plx
01:200C 60              	    93: 	rts
                        	    94: 
                        	    95: changecolor:
01:200D 48              	    96:   pha
01:200E EE2520          	    97:   inc vdp_register_7
01:2011 AD2520          	    98:   lda vdp_register_7
01:2014 8D0188          	    99:   sta VDP_REG
01:2017 A987            	   100:   lda #$87
01:2019 8D0188          	   101:   sta VDP_REG
01:201C 68              	   102:   pla
01:201D 60              	   103:   rts
                        	   104: 
                        	   105: vdp_register_inits:
01:201E 00              	   106: vdp_register_0: .byte %00000000 ; 0  0  0  0  0  0  M3 EXTVDP
01:201F 90              	   107: vdp_register_1: .byte %10010000 ;16k Bl IE M1 M2 0 Siz MAG
01:2020 00              	   108: vdp_register_2: .byte $00       ; Name table base / $400. $00 = $0000
01:2021 00              	   109: vdp_register_3: .byte $00       ; Color table base (currently unused)
01:2022 01              	   110: vdp_register_4: .byte $01       ; Pattern table base / $800. $01 = $0800
01:2023 00              	   111: vdp_register_5: .byte $00       ; Sprite attribute table base (currently unused)
01:2024 00              	   112: vdp_register_6: .byte $00       ; Sprite pattern generator (currently unused)
01:2025 4E              	   113: vdp_register_7: .byte $4E       ; FG/BG. 1=>Black, E=>Gray
                        	   114: vdp_end_register_inits:
                        	   115: 
                        	   116: 
                        	   117: ;;;;;;;;;;;;;;;;;;; vdp_initialize_name_table ;;;;;;;;;;;;;;;;;;;
                        	   118: 
                        	   119: vdp_initialize_name_table:
01:2026 48              	   120:   pha
01:2027 DA              	   121:   phx
01:2028 5A              	   122:   phy
                        	   123:   vdp_write_vram VDP_NAME_TABLE_BASE
01:2029 48              	     1M   pha
01:202A A900            	     2M   lda #<(VDP_NAME_TABLE_BASE)
01:202C 8D0188          	     3M   sta VDP_REG
01:202F A940            	     4M   lda #(VDP_WRITE_VRAM_BIT | >VDP_NAME_TABLE_BASE)
01:2031 8D0188          	     5M   sta VDP_REG
01:2034 68              	     6M   pla
01:2035 6432            	   124:   stz VDP_NAME_POINTER
01:2037 A920            	   125:   lda #$20
01:2039 A000            	   126:   ldy #0
                        	   127: vdp_name_table_loop:
01:203B 8D0088          	   128:   sta VDP_VRAM
01:203E C8              	   129:   iny
01:203F D0FA            	   130:   bne vdp_name_table_loop
                        	   131: 
01:2041 E632            	   132:   inc VDP_NAME_POINTER
01:2043 A632            	   133:   ldx VDP_NAME_POINTER
01:2045 E007            	   134:   cpx #7
01:2047 D0F2            	   135:   bne vdp_name_table_loop
                        	   136:   
01:2049 7A              	   137:   ply
01:204A FA              	   138:   plx
01:204B 68              	   139:   pla
01:204C 60              	   140:   rts
                        	   141: 
                        	   142: vdp_write_name_table:
01:204D 48              	   143:   pha
01:204E DA              	   144:   phx
                        	   145:   vdp_write_vram TEXT_LOC
01:204F 48              	     1M   pha
01:2050 A9FF            	     2M   lda #<(TEXT_LOC)
01:2052 8D0188          	     3M   sta VDP_REG
01:2055 A940            	     4M   lda #(VDP_WRITE_VRAM_BIT | >TEXT_LOC)
01:2057 8D0188          	     5M   sta VDP_REG
01:205A 68              	     6M   pla
01:205B A200            	   146:   ldx #0
                        	   147: .loop:
01:205D BDAE20          	   148:   lda text_vdp,x
01:2060 F007            	   149:   beq end_write
01:2062 8D0088          	   150:   sta VDP_VRAM
01:2065 E8              	   151:   inx
01:2066 4C5D20          	   152:   jmp .loop
                        	   153: end_write:
01:2069 FA              	   154:   plx
01:206A 68              	   155:   pla
01:206B 60              	   156:   rts
                        	   157: 
                        	   158: ;;;;;;;;;;;;;;;;;;; vdp_initialize_pattern_table ;;;;;;;;;;;;;;;;;;;
                        	   159: 
                        	   160: vdp_initialize_pattern_table:
01:206C 48              	   161:   pha
01:206D DA              	   162:   phx
                        	   163:   vdp_write_vram VDP_PATTERN_TABLE_BASE
01:206E 48              	     1M   pha
01:206F A900            	     2M   lda #<(VDP_PATTERN_TABLE_BASE)
01:2071 8D0188          	     3M   sta VDP_REG
01:2074 A948            	     4M   lda #(VDP_WRITE_VRAM_BIT | >VDP_PATTERN_TABLE_BASE)
01:2076 8D0188          	     5M   sta VDP_REG
01:2079 68              	     6M   pla
01:207A A900            	   164:   lda #<vdp_patterns                      ; load the start address of the patterns to zero page
01:207C 8530            	   165:   sta VDP_PATTERN_INIT
01:207E A921            	   166:   lda #>vdp_patterns
01:2080 8531            	   167:   sta VDP_PATTERN_INIT_HI
                        	   168: vdp_pattern_table_loop:
01:2082 B230            	   169:   lda (VDP_PATTERN_INIT)                  ; load A with the value at VDP_PATTERN_INIT 
01:2084 8D0088          	   170:   sta VDP_VRAM                            ; and store it to VRAM
01:2087 A530            	   171:   lda VDP_PATTERN_INIT                    ; load the low byte of VDP_PATTERN_INIT address into A
01:2089 18              	   172:   clc                                     ; clear carry flag
01:208A 6901            	   173:   adc #1                                  ; Add 1, with carry
01:208C 8530            	   174:   sta VDP_PATTERN_INIT                    ; store back into VDP_PATTERN_INIT
01:208E A900            	   175:   lda #0                                  ; load A with 0
01:2090 6531            	   176:   adc VDP_PATTERN_INIT_HI                 ; add with the carry flag to the high address
01:2092 8531            	   177:   sta VDP_PATTERN_INIT_HI                 ; and store that back into the high byte
01:2094 C925            	   178:   cmp #>vdp_end_patterns                  ; compare if we're at the end of the patterns
01:2096 D0EA            	   179:   bne vdp_pattern_table_loop              ; if not, loop again
01:2098 A530            	   180:   lda VDP_PATTERN_INIT                    ; compare the low byte
01:209A C900            	   181:   cmp #<vdp_end_patterns
01:209C D0E4            	   182:   bne vdp_pattern_table_loop              ; if not equal, loop again
01:209E FA              	   183:   plx
01:209F 68              	   184:   pla
01:20A0 60              	   185:   rts
                        	   186: 
                        	   187: ;;;;;;;;;;;;;;;;;;; vdp_enable_display ;;;;;;;;;;;;;;;;;;;;;;;;;
                        	   188: 
                        	   189: vdp_enable_display:
01:20A1 48              	   190:   pha
01:20A2 A9D0            	   191:   lda #%11010000			; select 16k bytes of vram, enable the active display, disable vdp interrupt, set text mode
01:20A4 8D0188          	   192:   sta VDP_REG
01:20A7 A981            	   193:   lda #(VDP_REGISTER_BITS | 1)
01:20A9 8D0188          	   194:   sta VDP_REG
01:20AC 68              	   195:   pla
01:20AD 60              	   196:   rts
                        	   197: 
                        	   198: text_vdp:
01:20AE 48656C6C6F2C2057	   199:   .byte "Hello, World!", $00
01:20B6 6F726C6421
01:20BB 00
                        	   200: 
                        	   201: 
                        	   202: ;;;;;;;;;;;;;;;;;;; vdp_patterns ;;;;;;;;;;;;;;;;;;;;;
                        	   203: 
                        	   204:   .align 8
                        	   205: vdp_patterns:
                        	   206: ; line drawing
01:2100 00              	   207:   .byte $00,$00,$00,$FF,$FF,$00,$00,$00 ; lr
01:2101 00
01:2102 00
01:2103 FF
01:2104 FF
01:2105 00
01:2106 00
01:2107 00
01:2108 18              	   208:   .byte $18,$18,$18,$18,$18,$18,$18,$18 ; ud
01:2109 18
01:210A 18
01:210B 18
01:210C 18
01:210D 18
01:210E 18
01:210F 18
01:2110 00              	   209:   .byte $00,$00,$00,$F8,$F8,$18,$18,$18 ; ld
01:2111 00
01:2112 00
01:2113 F8
01:2114 F8
01:2115 18
01:2116 18
01:2117 18
01:2118 00              	   210:   .byte $00,$00,$00,$1F,$1F,$18,$18,$18 ; rd
01:2119 00
01:211A 00
01:211B 1F
01:211C 1F
01:211D 18
01:211E 18
01:211F 18
01:2120 18              	   211:   .byte $18,$18,$18,$F8,$F8,$00,$00,$00 ; lu
01:2121 18
01:2122 18
01:2123 F8
01:2124 F8
01:2125 00
01:2126 00
01:2127 00
01:2128 18              	   212:   .byte $18,$18,$18,$1F,$1F,$00,$00,$00 ; ur
01:2129 18
01:212A 18
01:212B 1F
01:212C 1F
01:212D 00
01:212E 00
01:212F 00
01:2130 18              	   213:   .byte $18,$18,$18,$FF,$FF,$18,$18,$18 ; lurd
01:2131 18
01:2132 18
01:2133 FF
01:2134 FF
01:2135 18
01:2136 18
01:2137 18
                        	   214: ; <nonsense for debug>
01:2138 07              	   215:   .byte $07,$07,$07,$07,$07,$07,$07,$00 ; 07
01:2139 07
01:213A 07
01:213B 07
01:213C 07
01:213D 07
01:213E 07
01:213F 00
01:2140 08              	   216:   .byte $08,$08,$08,$08,$08,$08,$08,$00 ; 08
01:2141 08
01:2142 08
01:2143 08
01:2144 08
01:2145 08
01:2146 08
01:2147 00
01:2148 09              	   217:   .byte $09,$09,$09,$09,$09,$09,$09,$00 ; 09
01:2149 09
01:214A 09
01:214B 09
01:214C 09
01:214D 09
01:214E 09
01:214F 00
01:2150 0A              	   218:   .byte $0A,$0A,$0A,$0A,$0A,$0A,$0A,$00 ; 0A
01:2151 0A
01:2152 0A
01:2153 0A
01:2154 0A
01:2155 0A
01:2156 0A
01:2157 00
01:2158 0B              	   219:   .byte $0B,$0B,$0B,$0B,$0B,$0B,$0B,$00 ; 0B
01:2159 0B
01:215A 0B
01:215B 0B
01:215C 0B
01:215D 0B
01:215E 0B
01:215F 00
01:2160 0C              	   220:   .byte $0C,$0C,$0C,$0C,$0C,$0C,$0C,$00 ; 0C
01:2161 0C
01:2162 0C
01:2163 0C
01:2164 0C
01:2165 0C
01:2166 0C
01:2167 00
01:2168 0D              	   221:   .byte $0D,$0D,$0D,$0D,$0D,$0D,$0D,$00 ; 0D
01:2169 0D
01:216A 0D
01:216B 0D
01:216C 0D
01:216D 0D
01:216E 0D
01:216F 00
01:2170 0E              	   222:   .byte $0E,$0E,$0E,$0E,$0E,$0E,$0E,$00 ; 0E
01:2171 0E
01:2172 0E
01:2173 0E
01:2174 0E
01:2175 0E
01:2176 0E
01:2177 00
01:2178 0F              	   223:   .byte $0F,$0F,$0F,$0F,$0F,$0F,$0F,$00 ; 0F
01:2179 0F
01:217A 0F
01:217B 0F
01:217C 0F
01:217D 0F
01:217E 0F
01:217F 00
01:2180 10              	   224:   .byte $10,$10,$10,$10,$10,$10,$10,$00 ; 10
01:2181 10
01:2182 10
01:2183 10
01:2184 10
01:2185 10
01:2186 10
01:2187 00
01:2188 11              	   225:   .byte $11,$11,$11,$11,$11,$11,$11,$00 ; 11
01:2189 11
01:218A 11
01:218B 11
01:218C 11
01:218D 11
01:218E 11
01:218F 00
01:2190 12              	   226:   .byte $12,$12,$12,$12,$12,$12,$12,$00 ; 12
01:2191 12
01:2192 12
01:2193 12
01:2194 12
01:2195 12
01:2196 12
01:2197 00
01:2198 13              	   227:   .byte $13,$13,$13,$13,$13,$13,$13,$00 ; 13
01:2199 13
01:219A 13
01:219B 13
01:219C 13
01:219D 13
01:219E 13
01:219F 00
01:21A0 14              	   228:   .byte $14,$14,$14,$14,$14,$14,$14,$00 ; 14
01:21A1 14
01:21A2 14
01:21A3 14
01:21A4 14
01:21A5 14
01:21A6 14
01:21A7 00
01:21A8 15              	   229:   .byte $15,$15,$15,$15,$15,$15,$15,$00 ; 15
01:21A9 15
01:21AA 15
01:21AB 15
01:21AC 15
01:21AD 15
01:21AE 15
01:21AF 00
01:21B0 16              	   230:   .byte $16,$16,$16,$16,$16,$16,$16,$00 ; 16
01:21B1 16
01:21B2 16
01:21B3 16
01:21B4 16
01:21B5 16
01:21B6 16
01:21B7 00
01:21B8 17              	   231:   .byte $17,$17,$17,$17,$17,$17,$17,$00 ; 17
01:21B9 17
01:21BA 17
01:21BB 17
01:21BC 17
01:21BD 17
01:21BE 17
01:21BF 00
01:21C0 18              	   232:   .byte $18,$18,$18,$18,$18,$18,$18,$00 ; 18
01:21C1 18
01:21C2 18
01:21C3 18
01:21C4 18
01:21C5 18
01:21C6 18
01:21C7 00
01:21C8 19              	   233:   .byte $19,$19,$19,$19,$19,$19,$19,$00 ; 19
01:21C9 19
01:21CA 19
01:21CB 19
01:21CC 19
01:21CD 19
01:21CE 19
01:21CF 00
01:21D0 1A              	   234:   .byte $1A,$1A,$1A,$1A,$1A,$1A,$1A,$00 ; 1A
01:21D1 1A
01:21D2 1A
01:21D3 1A
01:21D4 1A
01:21D5 1A
01:21D6 1A
01:21D7 00
01:21D8 1B              	   235:   .byte $1B,$1B,$1B,$1B,$1B,$1B,$1B,$00 ; 1B
01:21D9 1B
01:21DA 1B
01:21DB 1B
01:21DC 1B
01:21DD 1B
01:21DE 1B
01:21DF 00
01:21E0 1C              	   236:   .byte $1C,$1C,$1C,$1C,$1C,$1C,$1C,$00 ; 1C
01:21E1 1C
01:21E2 1C
01:21E3 1C
01:21E4 1C
01:21E5 1C
01:21E6 1C
01:21E7 00
01:21E8 1D              	   237:   .byte $1D,$1D,$1D,$1D,$1D,$1D,$1D,$00 ; 1D
01:21E9 1D
01:21EA 1D
01:21EB 1D
01:21EC 1D
01:21ED 1D
01:21EE 1D
01:21EF 00
01:21F0 1E              	   238:   .byte $1E,$1E,$1E,$1E,$1E,$1E,$1E,$00 ; 1E
01:21F1 1E
01:21F2 1E
01:21F3 1E
01:21F4 1E
01:21F5 1E
01:21F6 1E
01:21F7 00
01:21F8 1F              	   239:   .byte $1F,$1F,$1F,$1F,$1F,$1F,$1F,$00 ; 1F
01:21F9 1F
01:21FA 1F
01:21FB 1F
01:21FC 1F
01:21FD 1F
01:21FE 1F
01:21FF 00
                        	   240: ; </nonsense>
01:2200 00              	   241:   .byte $00,$00,$00,$00,$00,$00,$00,$00 ; ' '
01:2201 00
01:2202 00
01:2203 00
01:2204 00
01:2205 00
01:2206 00
01:2207 00
01:2208 20              	   242:   .byte $20,$20,$20,$00,$20,$20,$00,$00 ; !
01:2209 20
01:220A 20
01:220B 00
01:220C 20
01:220D 20
01:220E 00
01:220F 00
01:2210 50              	   243:   .byte $50,$50,$50,$00,$00,$00,$00,$00 ; "
01:2211 50
01:2212 50
01:2213 00
01:2214 00
01:2215 00
01:2216 00
01:2217 00
01:2218 50              	   244:   .byte $50,$50,$F8,$50,$F8,$50,$50,$00 ; #
01:2219 50
01:221A F8
01:221B 50
01:221C F8
01:221D 50
01:221E 50
01:221F 00
01:2220 20              	   245:   .byte $20,$78,$A0,$70,$28,$F0,$20,$00 ; $
01:2221 78
01:2222 A0
01:2223 70
01:2224 28
01:2225 F0
01:2226 20
01:2227 00
01:2228 C0              	   246:   .byte $C0,$C8,$10,$20,$40,$98,$18,$00 ; %
01:2229 C8
01:222A 10
01:222B 20
01:222C 40
01:222D 98
01:222E 18
01:222F 00
01:2230 40              	   247:   .byte $40,$A0,$A0,$40,$A8,$90,$68,$00 ; &
01:2231 A0
01:2232 A0
01:2233 40
01:2234 A8
01:2235 90
01:2236 68
01:2237 00
01:2238 20              	   248:   .byte $20,$20,$40,$00,$00,$00,$00,$00 ; '
01:2239 20
01:223A 40
01:223B 00
01:223C 00
01:223D 00
01:223E 00
01:223F 00
01:2240 20              	   249:   .byte $20,$40,$80,$80,$80,$40,$20,$00 ; (
01:2241 40
01:2242 80
01:2243 80
01:2244 80
01:2245 40
01:2246 20
01:2247 00
01:2248 20              	   250:   .byte $20,$10,$08,$08,$08,$10,$20,$00 ; )
01:2249 10
01:224A 08
01:224B 08
01:224C 08
01:224D 10
01:224E 20
01:224F 00
01:2250 20              	   251:   .byte $20,$A8,$70,$20,$70,$A8,$20,$00 ; *
01:2251 A8
01:2252 70
01:2253 20
01:2254 70
01:2255 A8
01:2256 20
01:2257 00
01:2258 00              	   252:   .byte $00,$20,$20,$F8,$20,$20,$00,$00 ; +
01:2259 20
01:225A 20
01:225B F8
01:225C 20
01:225D 20
01:225E 00
01:225F 00
01:2260 00              	   253:   .byte $00,$00,$00,$00,$20,$20,$40,$00 ; ,
01:2261 00
01:2262 00
01:2263 00
01:2264 20
01:2265 20
01:2266 40
01:2267 00
01:2268 00              	   254:   .byte $00,$00,$00,$F8,$00,$00,$00,$00 ; -
01:2269 00
01:226A 00
01:226B F8
01:226C 00
01:226D 00
01:226E 00
01:226F 00
01:2270 00              	   255:   .byte $00,$00,$00,$00,$20,$20,$00,$00 ; .
01:2271 00
01:2272 00
01:2273 00
01:2274 20
01:2275 20
01:2276 00
01:2277 00
01:2278 00              	   256:   .byte $00,$08,$10,$20,$40,$80,$00,$00 ; /
01:2279 08
01:227A 10
01:227B 20
01:227C 40
01:227D 80
01:227E 00
01:227F 00
01:2280 70              	   257:   .byte $70,$88,$98,$A8,$C8,$88,$70,$00 ; 0
01:2281 88
01:2282 98
01:2283 A8
01:2284 C8
01:2285 88
01:2286 70
01:2287 00
01:2288 20              	   258:   .byte $20,$60,$20,$20,$20,$20,$70,$00 ; 1
01:2289 60
01:228A 20
01:228B 20
01:228C 20
01:228D 20
01:228E 70
01:228F 00
01:2290 70              	   259:   .byte $70,$88,$08,$30,$40,$80,$F8,$00 ; 2
01:2291 88
01:2292 08
01:2293 30
01:2294 40
01:2295 80
01:2296 F8
01:2297 00
01:2298 F8              	   260:   .byte $F8,$08,$10,$30,$08,$88,$70,$00 ; 3
01:2299 08
01:229A 10
01:229B 30
01:229C 08
01:229D 88
01:229E 70
01:229F 00
01:22A0 10              	   261:   .byte $10,$30,$50,$90,$F8,$10,$10,$00 ; 4
01:22A1 30
01:22A2 50
01:22A3 90
01:22A4 F8
01:22A5 10
01:22A6 10
01:22A7 00
01:22A8 F8              	   262:   .byte $F8,$80,$F0,$08,$08,$88,$70,$00 ; 5
01:22A9 80
01:22AA F0
01:22AB 08
01:22AC 08
01:22AD 88
01:22AE 70
01:22AF 00
01:22B0 38              	   263:   .byte $38,$40,$80,$F0,$88,$88,$70,$00 ; 6
01:22B1 40
01:22B2 80
01:22B3 F0
01:22B4 88
01:22B5 88
01:22B6 70
01:22B7 00
01:22B8 F8              	   264:   .byte $F8,$08,$10,$20,$40,$40,$40,$00 ; 7
01:22B9 08
01:22BA 10
01:22BB 20
01:22BC 40
01:22BD 40
01:22BE 40
01:22BF 00
01:22C0 70              	   265:   .byte $70,$88,$88,$70,$88,$88,$70,$00 ; 8
01:22C1 88
01:22C2 88
01:22C3 70
01:22C4 88
01:22C5 88
01:22C6 70
01:22C7 00
01:22C8 70              	   266:   .byte $70,$88,$88,$78,$08,$10,$E0,$00 ; 9
01:22C9 88
01:22CA 88
01:22CB 78
01:22CC 08
01:22CD 10
01:22CE E0
01:22CF 00
01:22D0 00              	   267:   .byte $00,$00,$20,$00,$20,$00,$00,$00 ; :
01:22D1 00
01:22D2 20
01:22D3 00
01:22D4 20
01:22D5 00
01:22D6 00
01:22D7 00
01:22D8 00              	   268:   .byte $00,$00,$20,$00,$20,$20,$40,$00 ; ;
01:22D9 00
01:22DA 20
01:22DB 00
01:22DC 20
01:22DD 20
01:22DE 40
01:22DF 00
01:22E0 10              	   269:   .byte $10,$20,$40,$80,$40,$20,$10,$00 ; <
01:22E1 20
01:22E2 40
01:22E3 80
01:22E4 40
01:22E5 20
01:22E6 10
01:22E7 00
01:22E8 00              	   270:   .byte $00,$00,$F8,$00,$F8,$00,$00,$00 ; =
01:22E9 00
01:22EA F8
01:22EB 00
01:22EC F8
01:22ED 00
01:22EE 00
01:22EF 00
01:22F0 40              	   271:   .byte $40,$20,$10,$08,$10,$20,$40,$00 ; >
01:22F1 20
01:22F2 10
01:22F3 08
01:22F4 10
01:22F5 20
01:22F6 40
01:22F7 00
01:22F8 70              	   272:   .byte $70,$88,$10,$20,$20,$00,$20,$00 ; ?
01:22F9 88
01:22FA 10
01:22FB 20
01:22FC 20
01:22FD 00
01:22FE 20
01:22FF 00
01:2300 70              	   273:   .byte $70,$88,$A8,$B8,$B0,$80,$78,$00 ; @
01:2301 88
01:2302 A8
01:2303 B8
01:2304 B0
01:2305 80
01:2306 78
01:2307 00
01:2308 20              	   274:   .byte $20,$50,$88,$88,$F8,$88,$88,$00 ; A
01:2309 50
01:230A 88
01:230B 88
01:230C F8
01:230D 88
01:230E 88
01:230F 00
01:2310 F0              	   275:   .byte $F0,$88,$88,$F0,$88,$88,$F0,$00 ; B
01:2311 88
01:2312 88
01:2313 F0
01:2314 88
01:2315 88
01:2316 F0
01:2317 00
01:2318 70              	   276:   .byte $70,$88,$80,$80,$80,$88,$70,$00 ; C
01:2319 88
01:231A 80
01:231B 80
01:231C 80
01:231D 88
01:231E 70
01:231F 00
01:2320 F0              	   277:   .byte $F0,$88,$88,$88,$88,$88,$F0,$00 ; D
01:2321 88
01:2322 88
01:2323 88
01:2324 88
01:2325 88
01:2326 F0
01:2327 00
01:2328 F8              	   278:   .byte $F8,$80,$80,$F0,$80,$80,$F8,$00 ; E
01:2329 80
01:232A 80
01:232B F0
01:232C 80
01:232D 80
01:232E F8
01:232F 00
01:2330 F8              	   279:   .byte $F8,$80,$80,$F0,$80,$80,$80,$00 ; F
01:2331 80
01:2332 80
01:2333 F0
01:2334 80
01:2335 80
01:2336 80
01:2337 00
01:2338 78              	   280:   .byte $78,$80,$80,$80,$98,$88,$78,$00 ; G
01:2339 80
01:233A 80
01:233B 80
01:233C 98
01:233D 88
01:233E 78
01:233F 00
01:2340 88              	   281:   .byte $88,$88,$88,$F8,$88,$88,$88,$00 ; H
01:2341 88
01:2342 88
01:2343 F8
01:2344 88
01:2345 88
01:2346 88
01:2347 00
01:2348 70              	   282:   .byte $70,$20,$20,$20,$20,$20,$70,$00 ; I
01:2349 20
01:234A 20
01:234B 20
01:234C 20
01:234D 20
01:234E 70
01:234F 00
01:2350 08              	   283:   .byte $08,$08,$08,$08,$08,$88,$70,$00 ; J
01:2351 08
01:2352 08
01:2353 08
01:2354 08
01:2355 88
01:2356 70
01:2357 00
01:2358 88              	   284:   .byte $88,$90,$A0,$C0,$A0,$90,$88,$00 ; K
01:2359 90
01:235A A0
01:235B C0
01:235C A0
01:235D 90
01:235E 88
01:235F 00
01:2360 80              	   285:   .byte $80,$80,$80,$80,$80,$80,$F8,$00 ; L
01:2361 80
01:2362 80
01:2363 80
01:2364 80
01:2365 80
01:2366 F8
01:2367 00
01:2368 88              	   286:   .byte $88,$D8,$A8,$A8,$88,$88,$88,$00 ; M
01:2369 D8
01:236A A8
01:236B A8
01:236C 88
01:236D 88
01:236E 88
01:236F 00
01:2370 88              	   287:   .byte $88,$88,$C8,$A8,$98,$88,$88,$00 ; N
01:2371 88
01:2372 C8
01:2373 A8
01:2374 98
01:2375 88
01:2376 88
01:2377 00
01:2378 70              	   288:   .byte $70,$88,$88,$88,$88,$88,$70,$00 ; O
01:2379 88
01:237A 88
01:237B 88
01:237C 88
01:237D 88
01:237E 70
01:237F 00
01:2380 F0              	   289:   .byte $F0,$88,$88,$F0,$80,$80,$80,$00 ; P
01:2381 88
01:2382 88
01:2383 F0
01:2384 80
01:2385 80
01:2386 80
01:2387 00
01:2388 70              	   290:   .byte $70,$88,$88,$88,$A8,$90,$68,$00 ; Q
01:2389 88
01:238A 88
01:238B 88
01:238C A8
01:238D 90
01:238E 68
01:238F 00
01:2390 F0              	   291:   .byte $F0,$88,$88,$F0,$A0,$90,$88,$00 ; R
01:2391 88
01:2392 88
01:2393 F0
01:2394 A0
01:2395 90
01:2396 88
01:2397 00
01:2398 70              	   292:   .byte $70,$88,$80,$70,$08,$88,$70,$00 ; S
01:2399 88
01:239A 80
01:239B 70
01:239C 08
01:239D 88
01:239E 70
01:239F 00
01:23A0 F8              	   293:   .byte $F8,$20,$20,$20,$20,$20,$20,$00 ; T
01:23A1 20
01:23A2 20
01:23A3 20
01:23A4 20
01:23A5 20
01:23A6 20
01:23A7 00
01:23A8 88              	   294:   .byte $88,$88,$88,$88,$88,$88,$70,$00 ; U
01:23A9 88
01:23AA 88
01:23AB 88
01:23AC 88
01:23AD 88
01:23AE 70
01:23AF 00
01:23B0 88              	   295:   .byte $88,$88,$88,$88,$50,$50,$20,$00 ; V
01:23B1 88
01:23B2 88
01:23B3 88
01:23B4 50
01:23B5 50
01:23B6 20
01:23B7 00
01:23B8 88              	   296:   .byte $88,$88,$88,$A8,$A8,$D8,$88,$00 ; W
01:23B9 88
01:23BA 88
01:23BB A8
01:23BC A8
01:23BD D8
01:23BE 88
01:23BF 00
01:23C0 88              	   297:   .byte $88,$88,$50,$20,$50,$88,$88,$00 ; X
01:23C1 88
01:23C2 50
01:23C3 20
01:23C4 50
01:23C5 88
01:23C6 88
01:23C7 00
01:23C8 88              	   298:   .byte $88,$88,$50,$20,$20,$20,$20,$00 ; Y
01:23C9 88
01:23CA 50
01:23CB 20
01:23CC 20
01:23CD 20
01:23CE 20
01:23CF 00
01:23D0 F8              	   299:   .byte $F8,$08,$10,$20,$40,$80,$F8,$00 ; Z
01:23D1 08
01:23D2 10
01:23D3 20
01:23D4 40
01:23D5 80
01:23D6 F8
01:23D7 00
01:23D8 F8              	   300:   .byte $F8,$C0,$C0,$C0,$C0,$C0,$F8,$00 ; [
01:23D9 C0
01:23DA C0
01:23DB C0
01:23DC C0
01:23DD C0
01:23DE F8
01:23DF 00
01:23E0 00              	   301:   .byte $00,$80,$40,$20,$10,$08,$00,$00 ; \
01:23E1 80
01:23E2 40
01:23E3 20
01:23E4 10
01:23E5 08
01:23E6 00
01:23E7 00
01:23E8 F8              	   302:   .byte $F8,$18,$18,$18,$18,$18,$F8,$00 ; ]
01:23E9 18
01:23EA 18
01:23EB 18
01:23EC 18
01:23ED 18
01:23EE F8
01:23EF 00
01:23F0 00              	   303:   .byte $00,$00,$20,$50,$88,$00,$00,$00 ; ^
01:23F1 00
01:23F2 20
01:23F3 50
01:23F4 88
01:23F5 00
01:23F6 00
01:23F7 00
01:23F8 00              	   304:   .byte $00,$00,$00,$00,$00,$00,$F8,$00 ; _
01:23F9 00
01:23FA 00
01:23FB 00
01:23FC 00
01:23FD 00
01:23FE F8
01:23FF 00
01:2400 40              	   305:   .byte $40,$20,$10,$00,$00,$00,$00,$00 ; `
01:2401 20
01:2402 10
01:2403 00
01:2404 00
01:2405 00
01:2406 00
01:2407 00
01:2408 00              	   306:   .byte $00,$00,$70,$88,$88,$98,$68,$00 ; a
01:2409 00
01:240A 70
01:240B 88
01:240C 88
01:240D 98
01:240E 68
01:240F 00
01:2410 80              	   307:   .byte $80,$80,$F0,$88,$88,$88,$F0,$00 ; b
01:2411 80
01:2412 F0
01:2413 88
01:2414 88
01:2415 88
01:2416 F0
01:2417 00
01:2418 00              	   308:   .byte $00,$00,$78,$80,$80,$80,$78,$00 ; c
01:2419 00
01:241A 78
01:241B 80
01:241C 80
01:241D 80
01:241E 78
01:241F 00
01:2420 08              	   309:   .byte $08,$08,$78,$88,$88,$88,$78,$00 ; d
01:2421 08
01:2422 78
01:2423 88
01:2424 88
01:2425 88
01:2426 78
01:2427 00
01:2428 00              	   310:   .byte $00,$00,$70,$88,$F8,$80,$78,$00 ; e
01:2429 00
01:242A 70
01:242B 88
01:242C F8
01:242D 80
01:242E 78
01:242F 00
01:2430 30              	   311:   .byte $30,$40,$E0,$40,$40,$40,$40,$00 ; f
01:2431 40
01:2432 E0
01:2433 40
01:2434 40
01:2435 40
01:2436 40
01:2437 00
01:2438 00              	   312:   .byte $00,$00,$70,$88,$F8,$08,$F0,$00 ; g
01:2439 00
01:243A 70
01:243B 88
01:243C F8
01:243D 08
01:243E F0
01:243F 00
01:2440 80              	   313:   .byte $80,$80,$F0,$88,$88,$88,$88,$00 ; h
01:2441 80
01:2442 F0
01:2443 88
01:2444 88
01:2445 88
01:2446 88
01:2447 00
01:2448 00              	   314:   .byte $00,$40,$00,$40,$40,$40,$40,$00 ; i
01:2449 40
01:244A 00
01:244B 40
01:244C 40
01:244D 40
01:244E 40
01:244F 00
01:2450 00              	   315:   .byte $00,$20,$00,$20,$20,$A0,$60,$00 ; j
01:2451 20
01:2452 00
01:2453 20
01:2454 20
01:2455 A0
01:2456 60
01:2457 00
01:2458 00              	   316:   .byte $00,$80,$80,$A0,$C0,$A0,$90,$00 ; k
01:2459 80
01:245A 80
01:245B A0
01:245C C0
01:245D A0
01:245E 90
01:245F 00
01:2460 C0              	   317:   .byte $C0,$40,$40,$40,$40,$40,$60,$00 ; l
01:2461 40
01:2462 40
01:2463 40
01:2464 40
01:2465 40
01:2466 60
01:2467 00
01:2468 00              	   318:   .byte $00,$00,$D8,$A8,$A8,$A8,$A8,$00 ; m
01:2469 00
01:246A D8
01:246B A8
01:246C A8
01:246D A8
01:246E A8
01:246F 00
01:2470 00              	   319:   .byte $00,$00,$F0,$88,$88,$88,$88,$00 ; n
01:2471 00
01:2472 F0
01:2473 88
01:2474 88
01:2475 88
01:2476 88
01:2477 00
01:2478 00              	   320:   .byte $00,$00,$70,$88,$88,$88,$70,$00 ; o
01:2479 00
01:247A 70
01:247B 88
01:247C 88
01:247D 88
01:247E 70
01:247F 00
01:2480 00              	   321:   .byte $00,$00,$70,$88,$F0,$80,$80,$00 ; p
01:2481 00
01:2482 70
01:2483 88
01:2484 F0
01:2485 80
01:2486 80
01:2487 00
01:2488 00              	   322:   .byte $00,$00,$F0,$88,$78,$08,$08,$00 ; q
01:2489 00
01:248A F0
01:248B 88
01:248C 78
01:248D 08
01:248E 08
01:248F 00
01:2490 00              	   323:   .byte $00,$00,$70,$88,$80,$80,$80,$00 ; r
01:2491 00
01:2492 70
01:2493 88
01:2494 80
01:2495 80
01:2496 80
01:2497 00
01:2498 00              	   324:   .byte $00,$00,$78,$80,$70,$08,$F0,$00 ; s
01:2499 00
01:249A 78
01:249B 80
01:249C 70
01:249D 08
01:249E F0
01:249F 00
01:24A0 40              	   325:   .byte $40,$40,$F0,$40,$40,$40,$30,$00 ; t
01:24A1 40
01:24A2 F0
01:24A3 40
01:24A4 40
01:24A5 40
01:24A6 30
01:24A7 00
01:24A8 00              	   326:   .byte $00,$00,$88,$88,$88,$88,$78,$00 ; u
01:24A9 00
01:24AA 88
01:24AB 88
01:24AC 88
01:24AD 88
01:24AE 78
01:24AF 00
01:24B0 00              	   327:   .byte $00,$00,$88,$88,$90,$A0,$40,$00 ; v
01:24B1 00
01:24B2 88
01:24B3 88
01:24B4 90
01:24B5 A0
01:24B6 40
01:24B7 00
01:24B8 00              	   328:   .byte $00,$00,$88,$88,$88,$A8,$D8,$00 ; w
01:24B9 00
01:24BA 88
01:24BB 88
01:24BC 88
01:24BD A8
01:24BE D8
01:24BF 00
01:24C0 00              	   329:   .byte $00,$00,$88,$50,$20,$50,$88,$00 ; x
01:24C1 00
01:24C2 88
01:24C3 50
01:24C4 20
01:24C5 50
01:24C6 88
01:24C7 00
01:24C8 00              	   330:   .byte $00,$00,$88,$88,$78,$08,$F0,$00 ; y
01:24C9 00
01:24CA 88
01:24CB 88
01:24CC 78
01:24CD 08
01:24CE F0
01:24CF 00
01:24D0 00              	   331:   .byte $00,$00,$F8,$10,$20,$40,$F8,$00 ; z
01:24D1 00
01:24D2 F8
01:24D3 10
01:24D4 20
01:24D5 40
01:24D6 F8
01:24D7 00
01:24D8 38              	   332:   .byte $38,$40,$20,$C0,$20,$40,$38,$00 ; {
01:24D9 40
01:24DA 20
01:24DB C0
01:24DC 20
01:24DD 40
01:24DE 38
01:24DF 00
01:24E0 40              	   333:   .byte $40,$40,$40,$00,$40,$40,$40,$00 ; |
01:24E1 40
01:24E2 40
01:24E3 00
01:24E4 40
01:24E5 40
01:24E6 40
01:24E7 00
01:24E8 E0              	   334:   .byte $E0,$10,$20,$18,$20,$10,$E0,$00 ; }
01:24E9 10
01:24EA 20
01:24EB 18
01:24EC 20
01:24ED 10
01:24EE E0
01:24EF 00
01:24F0 40              	   335:   .byte $40,$A8,$10,$00,$00,$00,$00,$00 ; ~
01:24F1 A8
01:24F2 10
01:24F3 00
01:24F4 00
01:24F5 00
01:24F6 00
01:24F7 00
01:24F8 A8              	   336:   .byte $A8,$50,$A8,$50,$A8,$50,$A8,$00 ; checkerboard
01:24F9 50
01:24FA A8
01:24FB 50
01:24FC A8
01:24FD 50
01:24FE A8
01:24FF 00
                        	   337: vdp_end_patterns:
                        	   338: 
01:2500 00              	   339:   .byte $00
                        	   340: 


Symbols by name:
InitSid                          A:0F59
InitSid2                         A:1000
L100c                            A:100C
L1013                            A:1013
L101d                            A:101D
L1021                            A:1021
L1025                            A:1025
L1029                            A:1029
L1032                            A:1032
L103b                            A:103B
L1040                            A:1040
L1044                            A:1044
L104a                            A:104A
L1054                            A:1054
L1057                            A:1057
L105a                            A:105A
L1073                            A:1073
L1074                            A:1074
L10a9                            A:10A9
L10b9                            A:10B9
L10c0                            A:10C0
L10d0                            A:10D0
L10d6                            A:10D6
L10da                            A:10DA
L10dc                            A:10DC
L10f0                            A:10F0
L111d                            A:111D
L113c                            A:113C
L1145                            A:1145
L1148                            A:1148
L1157                            A:1157
L115a                            A:115A
L1163                            A:1163
L1166                            A:1166
L1168                            A:1168
L118e                            A:118E
L1191                            A:1191
L11be                            A:11BE
L11ca                            A:11CA
L11d2                            A:11D2
L1216                            A:1216
L1223                            A:1223
L1238                            A:1238
L123b                            A:123B
L1241                            A:1241
L1257                            A:1257
L1260                            A:1260
L126c                            A:126C
L1280                            A:1280
L128f                            A:128F
L1297                            A:1297
L129e                            A:129E
L129f                            A:129F
L12ad                            A:12AD
L12b0                            A:12B0
L12cb                            A:12CB
L12ce                            A:12CE
L12e2                            A:12E2
L12ee                            A:12EE
L12f1                            A:12F1
L12fb                            A:12FB
L1320                            A:1320
L1329                            A:1329
L1333                            A:1333
L1342                            A:1342
L1347                            A:1347
L1351                            A:1351
L136a                            A:136A
L136d                            A:136D
L1373                            A:1373
L1376                            A:1376
L1380                            A:1380
L139d                            A:139D
PlaySid                          A:1003
S1006                            A:1006
S110d                            A:110D
S1181                            A:1181
TEXT_LOC                         E:00FF
VDP_NAME_POINTER                 E:0032
VDP_NAME_TABLE_BASE              E:0000
VDP_PATTERN_INIT                 E:0030
VDP_PATTERN_INIT_HI              E:0031
VDP_PATTERN_TABLE_BASE           E:0800
VDP_REG                          E:8801
VDP_REGISTER_BITS                E:0080
VDP_VRAM                         E:8800
VDP_WRITE_VRAM_BIT               E:0040
changecolor                      A:200D
check                            A:0F25
clear                            A:0F38
cloop                            A:0F3C
cont                             A:0F30
d400_sVoc1FreqLo                 E:B800
delay                            A:2004
end                              A:0F45
end_write                        A:2069
holding                          A:1FD0
init                             A:0F00
irq                              A:0F1F
putbut                           A:0F48
reset                            A:1FC2
text_vdp                         A:20AE
vdp_enable_display               A:20A1
vdp_end_patterns                 A:2500
vdp_end_register_inits           A:2026
vdp_initialize_name_table        A:2026
vdp_initialize_pattern_table     A:206C
vdp_name_table_loop              A:203B
vdp_pattern_table_loop           A:2082
vdp_patterns                     A:2100
vdp_register_0                   A:201E
vdp_register_1                   A:201F
vdp_register_2                   A:2020
vdp_register_3                   A:2021
vdp_register_4                   A:2022
vdp_register_5                   A:2023
vdp_register_6                   A:2024
vdp_register_7                   A:2025
vdp_register_inits               A:201E
vdp_set_registers                A:1FE6
vdp_setup                        A:1FD9
vdp_write_name_table             A:204D
wait                             A:1FFE

Symbols by value:
0000 VDP_NAME_TABLE_BASE
0030 VDP_PATTERN_INIT
0031 VDP_PATTERN_INIT_HI
0032 VDP_NAME_POINTER
0040 VDP_WRITE_VRAM_BIT
0080 VDP_REGISTER_BITS
00FF TEXT_LOC
0800 VDP_PATTERN_TABLE_BASE
0F00 init
0F1F irq
0F25 check
0F30 cont
0F38 clear
0F3C cloop
0F45 end
0F48 putbut
0F59 InitSid
1000 InitSid2
1003 PlaySid
1006 S1006
100C L100c
1013 L1013
101D L101d
1021 L1021
1025 L1025
1029 L1029
1032 L1032
103B L103b
1040 L1040
1044 L1044
104A L104a
1054 L1054
1057 L1057
105A L105a
1073 L1073
1074 L1074
10A9 L10a9
10B9 L10b9
10C0 L10c0
10D0 L10d0
10D6 L10d6
10DA L10da
10DC L10dc
10F0 L10f0
110D S110d
111D L111d
113C L113c
1145 L1145
1148 L1148
1157 L1157
115A L115a
1163 L1163
1166 L1166
1168 L1168
1181 S1181
118E L118e
1191 L1191
11BE L11be
11CA L11ca
11D2 L11d2
1216 L1216
1223 L1223
1238 L1238
123B L123b
1241 L1241
1257 L1257
1260 L1260
126C L126c
1280 L1280
128F L128f
1297 L1297
129E L129e
129F L129f
12AD L12ad
12B0 L12b0
12CB L12cb
12CE L12ce
12E2 L12e2
12EE L12ee
12F1 L12f1
12FB L12fb
1320 L1320
1329 L1329
1333 L1333
1342 L1342
1347 L1347
1351 L1351
136A L136a
136D L136d
1373 L1373
1376 L1376
1380 L1380
139D L139d
1FC2 reset
1FD0 holding
1FD9 vdp_setup
1FE6 vdp_set_registers
1FFE wait
2004 delay
200D changecolor
201E vdp_register_0
201E vdp_register_inits
201F vdp_register_1
2020 vdp_register_2
2021 vdp_register_3
2022 vdp_register_4
2023 vdp_register_5
2024 vdp_register_6
2025 vdp_register_7
2026 vdp_end_register_inits
2026 vdp_initialize_name_table
203B vdp_name_table_loop
204D vdp_write_name_table
2069 end_write
206C vdp_initialize_pattern_table
2082 vdp_pattern_table_loop
20A1 vdp_enable_display
20AE text_vdp
2100 vdp_patterns
2500 vdp_end_patterns
8800 VDP_VRAM
8801 VDP_REG
B800 d400_sVoc1FreqLo
